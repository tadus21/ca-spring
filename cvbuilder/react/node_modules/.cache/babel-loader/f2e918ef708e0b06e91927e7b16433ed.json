{"ast":null,"code":"import _objectSpread from \"/Users/tadaso/Workspace/projects/ca/ca-spring/cvbuilder/academy-java-react-group/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/tadaso/Workspace/projects/ca/ca-spring/cvbuilder/academy-java-react-group/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/tadaso/Workspace/projects/ca/ca-spring/cvbuilder/academy-java-react-group/src/app/components/Contacts/index.js\";\nimport React, { useState } from 'react';\nimport './index.css';\nimport { useFetch } from \"../../utils/fetch-hook\";\nimport { API_DOMAIN, API_ENDPOINTS } from \"../../utils/constants\";\nimport { FaEnvelope, FaGithubAlt, FaLinkedinIn, FaMapMarker, FaPhone } from 'react-icons/fa';\nconst icons = {\n  FaEnvelope,\n  FaPhone,\n  FaMapMarker,\n  FaLinkedinIn,\n  FaGithubAlt\n};\n\nfunction Item(data) {\n  const Icon = icons[data.type];\n  this.id = data.id;\n  return React.createElement(\"a\", {\n    className: \"Contacts--item\",\n    href: data.url,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    className: \"Contacts--item-icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"Contacts--item-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, data.value));\n}\n\nfunction Contacts(props) {\n  const _useFetch = useFetch(API_ENDPOINTS.contacts),\n        loading = _useFetch.loading,\n        data = _useFetch.data,\n        setData = _useFetch.setData;\n\n  const addContact = async contact => {\n    const response = await fetch(\"\".concat(API_DOMAIN).concat(API_ENDPOINTS.addContact), {\n      body: JSON.stringify(contact),\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    });\n\n    if (!response.ok) {\n      throw Error(response.statusText);\n    }\n\n    setData([...data, await response.json()]);\n  };\n\n  return React.createElement(\"section\", {\n    className: \"Contacts\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Contacts\"), loading ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Loading...\") : data.map(Item), React.createElement(AddContactForm, {\n    addContact: addContact,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }));\n}\n\nconst AddContactForm = props => {\n  const initialFormState = {\n    value: '',\n    type: 'FaEnvelope',\n    url: ''\n  };\n\n  const _useState = useState(initialFormState),\n        _useState2 = _slicedToArray(_useState, 2),\n        contact = _useState2[0],\n        setContact = _useState2[1];\n\n  const handleInputChange = event => {\n    const _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n    setContact(_objectSpread({}, contact, {\n      [name]: value\n    }));\n  };\n\n  const _useFetch2 = useFetch(API_ENDPOINTS.contactsTypes),\n        loading = _useFetch2.loading,\n        data = _useFetch2.data;\n\n  return React.createElement(\"form\", {\n    onSubmit: event => {\n      event.preventDefault();\n      if (!contact.value || !contact.type || !contact.url) return;\n      props.addContact(contact);\n      setContact(initialFormState);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Value\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"value\",\n    value: contact.value,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Type\"), React.createElement(\"select\", {\n    value: contact.type,\n    name: \"type\",\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, loading ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Loading...\") : data.map(type => React.createElement(\"option\", {\n    value: type,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, type))), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"Url\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"url\",\n    value: contact.url,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"Add new contact\"));\n};\n\nexport default Contacts;","map":{"version":3,"sources":["/Users/tadaso/Workspace/projects/ca/ca-spring/cvbuilder/academy-java-react-group/src/app/components/Contacts/index.js"],"names":["React","useState","useFetch","API_DOMAIN","API_ENDPOINTS","FaEnvelope","FaGithubAlt","FaLinkedinIn","FaMapMarker","FaPhone","icons","Item","data","Icon","type","id","url","value","Contacts","props","contacts","loading","setData","addContact","contact","response","fetch","body","JSON","stringify","method","headers","ok","Error","statusText","json","map","AddContactForm","initialFormState","setContact","handleInputChange","event","target","name","contactsTypes","preventDefault"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport './index.css';\nimport {useFetch} from \"../../utils/fetch-hook\";\nimport {API_DOMAIN, API_ENDPOINTS} from \"../../utils/constants\";\nimport {FaEnvelope, FaGithubAlt, FaLinkedinIn, FaMapMarker, FaPhone} from 'react-icons/fa';\n\nconst icons = {FaEnvelope, FaPhone, FaMapMarker, FaLinkedinIn, FaGithubAlt};\n\nfunction Item(data) {\n  const Icon = icons[data.type];\n  this.id = data.id;\n\n  return (\n    <a className=\"Contacts--item\" href={data.url}>\n      <Icon className=\"Contacts--item-icon\"/>\n      <span className=\"Contacts--item-text\">{data.value}</span>\n    </a>\n  );\n}\n\nfunction Contacts(props) {\n\n  const {loading, data, setData} = useFetch(API_ENDPOINTS.contacts);\n\n  const addContact = async contact => {\n\n    const response = await fetch(`${API_DOMAIN}${API_ENDPOINTS.addContact}`,\n      {\n        body: JSON.stringify(contact), method: 'POST', headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n    if (!response.ok) {\n      throw Error(response.statusText);\n    }\n    setData([...data, await response.json()])\n  };\n\n  return (\n    <section className=\"Contacts\">\n      <h3>Contacts</h3>\n      {loading ?\n        <div>Loading...</div>\n        :\n        data.map(Item)\n\n      }\n      <AddContactForm addContact={addContact}/>\n    </section>\n  );\n}\n\nconst AddContactForm = props => {\n  const initialFormState = {value: '', type: 'FaEnvelope', url: ''};\n  const [contact, setContact] = useState(initialFormState);\n\n  const handleInputChange = event => {\n    const {name, value} = event.target;\n\n    setContact({...contact, [name]: value})\n  };\n\n  const {loading, data} = useFetch(API_ENDPOINTS.contactsTypes);\n\n  return (\n    <form\n      onSubmit={event => {\n        event.preventDefault();\n        if (!contact.value || !contact.type || !contact.url) return;\n        props.addContact(contact);\n        setContact(initialFormState)\n      }}\n    >\n      <label>Value</label>\n      <input type=\"text\" name=\"value\" value={contact.value} onChange={handleInputChange}/>\n      <label>Type</label>\n      <select value={contact.type} name=\"type\" onChange={handleInputChange}>\n        {loading ?\n          <div>Loading...</div>\n          :\n          data.map(type => <option value={type}>{type}</option>)\n        }\n      </select>\n      <label>Url</label>\n      <input type=\"text\" name=\"url\" value={contact.url} onChange={handleInputChange}/>\n      <button>Add new contact</button>\n    </form>\n  )\n};\n\nexport default Contacts;\n"]},"metadata":{},"sourceType":"module"}